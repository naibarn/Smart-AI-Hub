# ============================================
# Staging Environment Configuration
# ============================================

# Application Environment
NODE_ENV=staging
LOG_LEVEL=debug

# ============================================
# Database Configuration
# ============================================

# PostgreSQL Database Connection URL for Staging
DATABASE_URL=postgresql://postgres:staging_password@postgres:5432/smart_ai_hub_staging

# PostgreSQL Configuration
POSTGRES_DB=smart_ai_hub_staging
POSTGRES_USER=postgres
POSTGRES_PASSWORD=staging_password

# ============================================
# Redis Configuration
# ============================================

# Redis Connection URL for Staging
REDIS_URL=redis://redis:6379

# ============================================
# JWT Authentication Configuration
# ============================================

# JWT Secret Key for Staging
JWT_SECRET=staging-jwt-secret-key-32-chars-minimum
JWT_REFRESH_SECRET=staging-jwt-refresh-secret-key-different

# JWT Token Expiry Times
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d

# ============================================
# OAuth Configuration (Test/Sandbox)
# ============================================

# Google OAuth - Use test credentials
OAUTH_CLIENT_ID=staging-google-client-id
OAUTH_CLIENT_SECRET=staging-google-client-secret
OAUTH_CALLBACK_URL=http://localhost:8080/auth/oauth2/callback

# GitHub OAuth - Use test credentials
GITHUB_CLIENT_ID=staging-github-client-id
GITHUB_CLIENT_SECRET=staging-github-client-secret

# ============================================
# Payment Configuration (Stripe Test Mode)
# ============================================

# Stripe Test Keys (these are safe to commit)
STRIPE_SECRET_KEY=sk_test_51234567890abcdef1234567890abcdef
STRIPE_WEBHOOK_SECRET=whsec_1234567890abcdef1234567890abcdef12345678
STRIPE_PUBLISHABLE_KEY=pk_test_51234567890abcdef1234567890abcdef

# ============================================
# Email Service Configuration (Test)
# ============================================

# SendGrid Test API Key
SENDGRID_API_KEY=SG.test1234567890abcdef1234567890abcdef.1234567890abcdef1234567890abcdef

# SMTP Test Configuration
SMTP_HOST=smtp.mailtrap.io
SMTP_PORT=2525
SMTP_SECURE=false
SMTP_USER=staging_user
SMTP_PASS=staging_password

# ============================================
# AI & LLM Configuration (Test Keys)
# ============================================

# OpenAI Test API Key
OPENAI_API_KEY=sk-test1234567890abcdef1234567890abcdef

# Anthropic Test API Key
ANTHROPIC_API_KEY=sk-ant-test1234567890abcdef1234567890abcdef

# ============================================
# Frontend Configuration
# ============================================

# Frontend API URL for Staging
VITE_API_URL=http://localhost:8080

# ============================================
# Service-to-Service Authentication
# ============================================

API_GATEWAY_SECRET=staging-api-gateway-secret-key
AUTH_SERVICE_SECRET=staging-auth-service-secret-key
CORE_SERVICE_SECRET=staging-core-service-secret-key
MCP_SERVER_SECRET=staging-mcp-server-secret-key
ANALYTICS_SERVICE_SECRET=staging-analytics-service-secret-key

# ============================================
# Rate Limiting (More permissive for testing)
# ============================================

RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=1000

# ============================================
# Security Configuration
# ============================================

CORS_ORIGIN=http://localhost:8080,http://localhost:3000
COOKIE_SECURE=false
COOKIE_SAME_SITE=lax

# ============================================
# Monitoring Configuration
# ============================================

# Sentry (optional for staging)
SENTRY_DSN=https://test1234567890abcdef1234567890abcdef@sentry.io/1234567

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30000

# ============================================
# SSL Configuration (Self-signed for staging)
# ============================================

SSL_CERT_PATH=/etc/nginx/ssl/cert.pem
SSL_KEY_PATH=/etc/nginx/ssl/key.pem

# ============================================
# Testing Configuration
# ============================================

# Enable test mode for various services
TEST_MODE=true
MOCK_EXTERNAL_APIS=true
SKIP_EMAIL_VERIFICATION=true
AUTO_APPROVE_USERS=true

# ============================================
# Performance Monitoring
# ============================================

# Enable detailed logging for performance analysis
ENABLE_QUERY_LOGGING=true
ENABLE_REQUEST_LOGGING=true
SLOW_QUERY_THRESHOLD_MS=500

# ============================================
# Backup Configuration
# ============================================

BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS=7
BACKUP_PATH=/backups